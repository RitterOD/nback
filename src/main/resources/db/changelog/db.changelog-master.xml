<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet author="alex (generated)" id="1708801055863-1">
        <createTable tableName="deal_abc_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="deal_abc_entityPK"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-2">
        <createTable tableName="deal_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="deal_entityPK"/>
            </column>
            <column name="settings_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-3">
        <createTable tableName="deal_entity_deal_step_entities">
            <column name="DealEntity_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="dealStepEntities_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-4">
        <createTable tableName="deal_entity_game_entity">
            <column name="DealEntity_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="gameEntities_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-5">
        <createTable tableName="deal_settings_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="deal_settings_entityPK"/>
            </column>
            <column name="deal_abc_entity_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="step_length_entity_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-6">
        <createTable tableName="deal_settings_entity_deal_entity">
            <column name="DealSettingsEntity_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="dealEntities_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-7">
        <createTable tableName="deal_step_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="deal_step_entityPK"/>
            </column>
            <column name="order" type="BIGINT"/>
            <column name="value" type="VARCHAR(255)"/>
            <column name="deal_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-8">
        <createTable tableName="game_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="game_entityPK"/>
            </column>
            <column name="deal_id" type="UUID"/>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-9">
        <createTable tableName="game_entity_game_event_entity">
            <column name="GameEntity_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="gameEventEntities_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-10">
        <createTable tableName="game_event_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="game_event_entityPK"/>
            </column>
            <column name="event_type" type="VARCHAR(255)"/>
            <column name="time_stamp" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-11">
        <createTable tableName="gamer_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="gamer_entityPK"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-12">
        <createTable tableName="step_length_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="step_length_entityPK"/>
            </column>
            <column name="length" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-13">
        <createTable tableName="step_number_entity">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="step_number_entityPK"/>
            </column>
            <column name="step_number" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-14">
        <addUniqueConstraint columnNames="gameEventEntities_id" constraintName="UK_3ykyjbkdr1hih6b3j4sfkkl6j" tableName="game_entity_game_event_entity"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-15">
        <addUniqueConstraint columnNames="gameEntities_id" constraintName="UK_9o4jo9ryjw3i5pe8uqn9radqh" tableName="deal_entity_game_entity"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-16">
        <addUniqueConstraint columnNames="dealEntities_id" constraintName="UK_fjqj28jbvbfx4ipvw9bstf1av" tableName="deal_settings_entity_deal_entity"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-17">
        <addUniqueConstraint columnNames="dealStepEntities_id" constraintName="UK_fp8sv5og69vx5w5mnjoh7rbx5" tableName="deal_entity_deal_step_entities"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-18">
        <addForeignKeyConstraint baseColumnNames="DealEntity_id" baseTableName="deal_entity_deal_step_entities" constraintName="FK17au4t44rjcvb0ytbnjiro5sm" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-19">
        <addForeignKeyConstraint baseColumnNames="settings_id" baseTableName="deal_entity" constraintName="FK1sbboegdqtvla92gt0d9m2cpc" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_settings_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-20">
        <addForeignKeyConstraint baseColumnNames="deal_id" baseTableName="deal_step_entity" constraintName="FK6dr6dchkwsoqjavurdqei13d9" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-21">
        <addForeignKeyConstraint baseColumnNames="gameEntities_id" baseTableName="deal_entity_game_entity" constraintName="FK6skk78wb3evbsmn55ja4qupih" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="game_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-22">
        <addForeignKeyConstraint baseColumnNames="step_length_entity_id" baseTableName="deal_settings_entity" constraintName="FKfvj3kvl7xqsjcnqymntaq8ff6" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="step_length_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-23">
        <addForeignKeyConstraint baseColumnNames="dealEntities_id" baseTableName="deal_settings_entity_deal_entity" constraintName="FKi87t08rtxxl0a9tgnhl127jan" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-24">
        <addForeignKeyConstraint baseColumnNames="deal_id" baseTableName="game_entity" constraintName="FKj2ldtbbh2ivgnjjiflhq3gww0" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-25">
        <addForeignKeyConstraint baseColumnNames="deal_abc_entity_id" baseTableName="deal_settings_entity" constraintName="FKkgtvjvyrucgt7jxamjjg6vk4e" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_abc_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-26">
        <addForeignKeyConstraint baseColumnNames="GameEntity_id" baseTableName="game_entity_game_event_entity" constraintName="FKlrm9iwfgy5adfdhexfy6ocg4x" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="game_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-27">
        <addForeignKeyConstraint baseColumnNames="gameEventEntities_id" baseTableName="game_entity_game_event_entity" constraintName="FKn13s5q1f59twd3ojid3rj88p9" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="game_event_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-28">
        <addForeignKeyConstraint baseColumnNames="dealStepEntities_id" baseTableName="deal_entity_deal_step_entities" constraintName="FKo6yjmjuyvbap51ked63kcrsvl" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_step_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-29">
        <addForeignKeyConstraint baseColumnNames="DealSettingsEntity_id" baseTableName="deal_settings_entity_deal_entity" constraintName="FKsktnvr3wc9nrv2qduhiqevldu" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_settings_entity" validate="true"/>
    </changeSet>
    <changeSet author="alex (generated)" id="1708801055863-30">
        <addForeignKeyConstraint baseColumnNames="DealEntity_id" baseTableName="deal_entity_game_entity" constraintName="FKtf8hi0iqk695dah36jj3blsxl" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="deal_entity" validate="true"/>
    </changeSet>
</databaseChangeLog>
